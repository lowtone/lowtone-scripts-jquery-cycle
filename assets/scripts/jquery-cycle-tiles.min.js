(function(a){if(!a.fn.cycle){if(window.console){window.console.log("jQuery Cycle tiles: jQuery cycle plugin not found")}return}a.fn.cycle.transitions.tiles=function(q,o,b){b.before.push(function(s,i,j){a.fn.cycle.commonReset(s,i,j,true,true,true)});if(!b.speedAdjusted){b.speed=b.speed/2;b.speedAdjusted=true}b.tiles=a.extend({cols:1,order:function(j){return j},rows:1,},b.tiles);var g,f,e=b.tiles.cols,l=b.tiles.rows,m=e*l,r=q.css("overflow","hidden").height(),d=q.width(),p=Math.floor(d/e),c=d-(p*(e-1)),k=Math.floor(r/l),n=r-(k*(l-1)),h=b.tiles.tileAnimationDelay;b.tiles.tileAnimationDelay=b.tiles.tileAnimationDelay||50;b.tiles.cssBefore=a.extend({left:0,top:r},b.tiles.cssBefore);b.tiles.cssAfter=a.extend({left:0,top:0},b.tiles.cssAfter);b.cssBefore=a.extend({display:"block",left:0,top:0},b.cssBefore);b.cssAfter=b.cssAfter||{left:0,top:0};b.fxFn=b.fxFn||function(A,v,i,j,t){a(".cycle-tiles-container",q).addClass("cycle-tiles-obsolete").remove();var z=a(A),s=a(v),w=a('<div class="cycle-tiles-container" style="z-index: '+s.css("z-index")+';" />').insertAfter(s),y=a(),u,x=function(C){var E=i.tiles.order(C),B=E%e,D=Math.floor(E/e);y.eq(E).animate(a.extend(i.tiles.cssAfter,{height:(l-1===D)?n:k,width:(e-1===B)?c:p}),{duration:i.speed,easing:i.easeOut,complete:function(){if(t?(m-1===C):(0===C)){z.hide();if(!w.hasClass("cycle-tiles-obsolete")){s.show()}w.remove();if(j){j()}}}}).find("> *").fadeIn(i.speed).end();setTimeout(function(){if(t?(m-1!==C):(0!==C)){x.apply(this,[t?(C+1):(C-1)])}},h)};for(f=0;f<l;f++){for(g=0;g<e;g++){u=a('<div style="height: '+((l-1===f)?n:k)+"px; margin-left: "+(g*p)+"px; margin-top: "+(f*k)+"px; overflow: hidden; position: absolute; width: "+((e-1===g)?c:p)+'px; "/>').css(i.tiles.cssBefore).append(s.clone().css({"margin-left":-(g*p),"margin-top":-(f*k),position:"relative"}));y=y.add(u)}}w.append(y);s.hide();z.css("z-index",0);x(t?0:m-1)}}})(jQuery);